window.__require=function t(i,s,e){function n(c,r){if(!s[c]){if(!i[c]){var h=c.split("/");if(h=h[h.length-1],!i[h]){var a="function"==typeof __require&&__require;if(!r&&a)return a(h,!0);if(o)return o(h,!0);throw new Error("Cannot find module '"+c+"'")}}var _=s[c]={exports:{}};i[c][0].call(_.exports,function(t){return n(i[c][1][t]||t)},_,_.exports,t,i,s,e)}return s[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<e.length;c++)n(e[c]);return n}({Animation_com:[function(t,i,s){"use strict";cc._RF.push(i,"938f0WyUp5Jx6IEm4i+xt7l","Animation_com"),cc.Class({extends:cc.Component,properties:{sprite_frames:{default:[],type:cc.SpriteFrame},duration:.1,loop:!1,play_onload:!1},onLoad:function(){this.sprite=this.getComponent(cc.Sprite),this.sprite||(this.sprite=this.addComponent(cc.Sprite)),this.end_func=null,this.is_play=!0,this.play_time=0,this.play_onload?this.loop&&this.play_loop():this.loop?this.p_onload:this.p_onload(null)},p_onload:function(t){this.sprite_frames<=0||(this.end_func=t,this.loop=!1,this.is_play=!0,this.play_time=0,this.sprite.spriteFrame=this.sprite_frames[0])},play_loop:function(){this.sprite_frames<=0||(this.end_func=null,this.loop=!0,this.is_play=!0,this.play_time=0,this.sprite.spriteFrame=this.sprite_frames[0])},update:function(t){if(this.is_play){this.play_time+=t;var i=Math.floor(this.play_time/this.duration);if(this.loop){for(;i>=this.sprite_frames.length;)i-=this.sprite_frames.length,this.play_time-=this.sprite_frames.length*this.duration;this.sprite.spriteFrame=this.sprite_frames[i]}else i>=this.sprite_frames.length?(this.is_play=!1,this.end_func&&this.end_func()):this.sprite.spriteFrame=this.sprite_frames[i]}}}),cc._RF.pop()},{}],cow:[function(t,i,s){"use strict";cc._RF.push(i,"5194da5L1lIP6NDP+sGg4BS","cow");var e=cc.Class({name:"cow_skin",properties:{cow_anim:{type:cc.SpriteFrame,default:[]}}});cc.Class({extends:cc.Component,properties:{cow_skin_set:{type:e,default:[]}},start:function(){this.Anim_com=this.node.addComponent("Animation_com"),this.type=3*Math.random()+1,this.type=Math.floor(this.type),this.type>=4&&(this.type=1),this.speed=-(300*Math.random()+200),this.cow_type()},cow_type:function(){this.Anim_com.sprite_frames=this.cow_skin_set[this.type-1].cow_anim,this.Anim_com.duration=.1,this.Anim_com.loop=!0,cc.log(this.type)},update:function(t){var i=this.speed*t;this.node.x+=i,this.node.x<=-540&&this.node.removeFromParent()}}),cc._RF.pop()},{}],game_scene:[function(t,i,s){"use strict";cc._RF.push(i,"5b08e3QoERH1ZszsgBmOZk/","game_scene"),cc.Class({extends:cc.Component,properties:{cow_prefab:{type:cc.Prefab,default:null},time:{type:cc.Node,default:null},cow_num:{type:cc.Node,default:null},cow_num_2:{type:cc.Node,default:null},string_1:{type:cc.Node,default:null},mask:{type:cc.Node,default:null}},onLoad:function(){this.is_start=!1,this.cow_arry=[],this.time_1=this.time.getComponent(cc.Label),this.time_1.string=60,this.num=0,this.cow_1=0,this.cow_num_1=this.cow_num.getComponent(cc.Label),this.cow_num_22=this.cow_num_2.getComponent(cc.Label),this.string_2=this.string_1.getComponent(cc.Label),this.mask.active=!1,this.button=this.node.getChildByName("button_on"),this.button.zIndex=500,this.mask.zIndex=1e3},start:function(){this.start_game()},start_game:function(){1!=this.is_start&&(this.mask.active=!1,cc.log("///",this.mask.active),this.num=10,this.time_1.string=""+this.num,this.cow_1=0,this.cow_num_1.string=""+this.cow_1,this.cow_num_22.string="0",this.is_start=!0,this.unscheduleAllCallbacks(),this.set_cow(),this.scheduleOnce(this.count_down.bind(this),1))},set_cow:function(){var t=cc.instantiate(this.cow_prefab);this.node.addChild(t),t.zIndex=200,t.x=640,t.y=-100,this.cow_arry.push(t),this.scheduleOnce(this.set_cow.bind(this),3*Math.random()+4)},hit_cow:function(){for(var t=-1,i=0;i<this.cow_arry.length;i++)if(this.cow_arry[i].x<=125&&this.cow_arry[i].x>=80)return t=this.cow_arry[i].getComponent("cow").type,this.cow_arry[i].removeFromParent(),this.cow_arry.splice(i,1),cc.audioEngine.play(cc.url.raw("resources/sound/niu.mp3")),this.cow_1++,this.cow_num_1.string=""+this.cow_1,t;return-1},count_down:function(){if(this.num<=0)return this.unscheduleAllCallbacks(),this.is_start=!1,this.mask.active=!0,this.cow_arry.splice(0,100),void(this.cow_1<=0?this.string_2.string="\u83dc\u9e21\u840c\u65b0":this.cow_1<=2?this.string_2.string="\u521d\u7ea7\u840c\u65b0":this.cow_1<=5?this.string_2.string="\u4e2d\u7ea7\u840c\u65b0":this.cow_1<=8&&(this.string_2.string="\u9ad8\u7ea7\u840c\u65b0"));this.num--,this.time_1.string=""+this.num,this.scheduleOnce(this.count_down.bind(this),1)},aging:function(){}}),cc._RF.pop()},{}],rope:[function(t,i,s){"use strict";cc._RF.push(i,"5b492RimVpBkoCozqpnaEb4","rope"),cc.Class({extends:cc.Component,properties:{start_rope:{type:cc.SpriteFrame,default:null},cow_set:{type:cc.SpriteFrame,default:[]},game_scene:{type:cc.Node,default:null}},onLoad:function(){},start:function(){this.scene=this.game_scene.getComponent("game_scene"),this.par=this.node.getChildByName("fireworks").getComponent(cc.ParticleSystem),this.is_shooting=!1,this.star_a=0,this.node.zIndex=450},sta_rope:function(t){if(!(this.star_a>0)){this.star_a=1;var i=cc.moveTo(.4,cc.v2(0,70)),s=cc.callFunc(function(){this.is_shooting=!0,this.star_a=1;var t=this.scene.hit_cow();t>=1&&t<=3&&(this.node.y=112,this.par.resetSystem(),this._set_cow_sprite(t))}.bind(this)),e=cc.moveTo(.4,cc.v2(0,-500)),n=cc.callFunc(function(){this.is_shooting=!1,this._end_cow_sprite(),this.b()}.bind(this)),o=cc.sequence([i,s,e,n]);this.node.runAction(o)}},_set_cow_sprite:function(t){t<0||t>3||(this.node.getChildByName("rope_1").getComponent(cc.Sprite).spriteFrame=this.cow_set[t-1])},_end_cow_sprite:function(){this.node.getChildByName("rope_1").getComponent(cc.Sprite).spriteFrame=this.start_rope},b:function(){this.star_a=0}}),cc._RF.pop()},{}]},{},["Animation_com","cow","game_scene","rope"]);