window.__require=function t(e,i,a){function s(c,n){if(!i[c]){if(!e[c]){var h=c.split("/");if(h=h[h.length-1],!e[h]){var o="function"==typeof __require&&__require;if(!n&&o)return o(h,!0);if(r)return r(h,!0);throw new Error("Cannot find module '"+c+"'")}}var u=i[c]={exports:{}};e[c][0].call(u.exports,function(t){return s(e[c][1][t]||t)},u,u.exports,t,e,i,a)}return i[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<a.length;c++)s(a[c]);return s}({drum:[function(t,e,i){"use strict";cc._RF.push(e,"9562bufu/ZLhoNnfoboh0ou","drum"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.guang=this.node.getChildByName("gu_guang_1"),this.guang.active=!1},start:function(){},guang_on:function(){this.guang.active=!0},guang_off:function(){this.guang.active=!1}}),cc._RF.pop()},{}],game_scene:[function(t,e,i){"use strict";cc._RF.push(e,"1a89fOWh/dHDremIouRMaOl","game_scene");var a=t("level");cc.Class({extends:cc.Component,properties:{pre_durm:{type:cc.Prefab,default:[]}},start:function(){this.durm_map=this.node.getChildByName("map_durm"),this.player=this.durm_map.getChildByName("player"),this.anim=this.player.getChildByName("anim"),this.map_root=this.durm_map.getChildByName("map_root"),this.came=this.node.getChildByName("Camera"),this.bg=this.durm_map.getChildByName("bg"),this.touch=this.durm_map.getChildByName("TOUCH"),this.again=this.touch.getChildByName("again"),this.again.active=!1,this.came_start_y=this.came.getPosition(),this.start_game(),this.urse=0,this.touch.on(cc.Node.EventType.TOUCH_START,function(){this.palyer_off||(this.urse=1)}.bind(this),this.touch)},start_game:function(){this.palyer_off=!0,this.game_over=!1,this.set_durm_map(),this.again.active=!1},set_durm_map:function(){this.durm_arry=[],this.map_root.removeAllChildren();var t=1,e=0,i=a.start_x,s=a.start_y;this.player.x=i,this.player.y=s,this.player_scall=1,this.scale_set=[];for(var r=0;r<a.map_date.length;r++){var c=a.map_date[r],n=cc.instantiate(this.pre_durm[c]);this.map_root.addChild(n),this.durm_arry.push(n),n.x=i,n.y=s,++e>=3&&(e=0,t=1===t?0:1),1===t?(i+=a.offset,this.scale_set.push(1)):(i-=a.offset,this.scale_set.push(-1)),r<a.map_date.length-1&&(c=a.map_date[r+1],s+=a.e_heigth[c])}this.next_durm=1,this.jump()},jump:function(){if(this.next_durm!==this.durm_arry.length){this.durm_arry[this.next_durm-1].getComponent("drum").guang_on(),this.player.scaleX=this.scale_set[this.next_durm-1],this.game_over=!1;var t,e=a.map_date[this.next_durm];0===this.urse&&1===e?((t=this.durm_arry[this.next_durm].getPosition()).y-=.5*a.e_heigth[e],this.player.scaleX>0?t.x-=100:t.x+=100,this.game_over=!0):t=this.durm_arry[this.next_durm].getPosition(),this.urse=0;var i=.5*(this.player.getPosition().x+t.x),s=t.y+60,r=[cc.v2(i,s),cc.v2(i,s),t],c=.5+.15*Math.random(),n=cc.bezierTo(c,r),h=cc.callFunc(function(){this.game_over?this.game_off():(this.palyer_off=!0,this.next_durm++,this.jump())}.bind(this),this.player),o=cc.sequence([cc.delayTime(.05),n,h]);this.player.runAction(o),this.anim.scaleY=.7;var u=cc.scaleTo(.1,1,1);this.anim.runAction(u);var m=cc.delayTime(c-.15),_=cc.callFunc(function(){this.palyer_off=!1}.bind(this));this.node.runAction(cc.sequence([m,_]))}else this.again.active=!0},game_off:function(){cc.audioEngine.play(cc.url.raw("resources/help.mp3"));var t=(this.player.y+700)/1e3,e=cc.v2(this.player.x,-700),i=cc.moveTo(t,e),a=cc.callFunc(function(){this.game_over=!0}.bind(this)),s=cc.callFunc(function(){this.again.active=!0,cc.audioEngine.play(cc.url.raw("resources/effect_die_nian_05.mp3"))}.bind(this));this.anim.rotation=0;var r=cc.repeatForever(cc.rotateBy(1,360));this.anim.runAction(r),this.player.runAction(cc.sequence([i,a,s]))},load_scene:function(){cc.director.loadScene("game_scene")},update:function(t){this.player.y;this.bg.y=this.player.y-480,this.touch.y=this.came.y,this.player.y<=0?(this.came.y=0,this.bg.y=-480):this.came.y=this.player.y}}),cc._RF.pop()},{level:"level"}],level:[function(t,e,i){"use strict";cc._RF.push(e,"f8c0eIEzUlPAYH6JmC374sb","level");e.exports={start_x:-80,start_y:-100,offset:160,e_heigth:[100,200],map_date:[0,0,0,1,1,0,0,1,0,0,0,1,1,1,0,0,0,0,1,0,0,0,0,1,1,1,1,0,1,1,1,1,1,0,0,0,1,0,1,0,0,1,1,1,0,0,0,0]},cc._RF.pop()},{}]},{},["drum","game_scene","level"]);